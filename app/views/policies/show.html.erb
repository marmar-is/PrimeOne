<%# Policies Show %>
<%= content_for :head do %>
  <%= stylesheet_link_tag 'x-editable/bootstrap3-editable/css/bootstrap-editable.css', 'data-turbolinks-track' => true %>
  <%= stylesheet_link_tag 'x-editable/inputs-ext/typeaheadjs/lib/typeahead.js-bootstrap.css', 'data-turbolinks-track' => true %>
  <%= stylesheet_link_tag 'x-editable/inputs-ext/address/address.css', 'data-turbolinks-track' => true %>
  <%= stylesheet_link_tag 'select2/css/select2.min.css', 'data-turbolinks-track' => true %>
  <%#= stylesheet_link_tag 'bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css', 'data-turbolinks-track' => true %>
  <%= stylesheet_link_tag 'dropzone/dropzone.min.css', 'data-turbolinks-track' => true %>
  <style>
    .buttons {
      border-collapse: collapse;
    }
    .buttons button {
      width: 100%;
    }

    .tab-content {
      padding: 15px 0;
    }

    .tab-pane {
    }

    .review-button {
      margin-bottom: 30px;
      margin-top: 15px;
    }
  </style>
<% end %>

<div class="page-inner">
  <div class="page-breadcrumb">
    <ol class="breadcrumb container">
      <li><%= link_to "Home", root_path %></li>
      <li><%= link_to "Policies", policies_path %></li>
      <li><%= link_to @policy.number, "#", class: 'active policy_number_display' %></li>
    </ol>
  </div>
  <div class="page-title">
    <div class="container">
      <h3><span class="policy_number_display"><%= @policy.number %></span> || <span class="policy_name_display"><%= @policy.name %></span></h3>
    </div>
  </div>
  <div id="main-wrapper" class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="panel panel-white">
          <div class="panel-body">
            <%= form_tag populate_policy_path, class:'dropzone', multipart: true do %>
              <div class="fallback">
                <input name="file" type="file" />
              </div>
              <div style="float: right;">
                <%= submit_tag "Populate", class:"btn btn-prime-gold" %>
              </div>
            <% end %>
          </div>
        </div>
      </div><!-- col-md-12 -->
    </div><!-- Row -->

    <div class="row">
      <div class="col-md-12">
        <div class="panel panel-white">
          <div class="panel-body">
            <h2 class="no-m m-b-lg">Policy Information</h2>
            <hr>
            <h2 class="client_code_display"><%= @policy.code %></h2>

            <div role="tabpanel">
              <!-- Nav tabs -->
              <ul class="nav nav-tabs nav-justified" role="tablist">
                <li role="presentation" class="active"><a href="#tab1" role="tab" data-toggle="tab">Fields</a></li>
                <li role="presentation"><a href="#tab2" role="tab" data-toggle="tab">Endorsements</a></li>
                <li role="presentation"><a href="#tab3" role="tab" data-toggle="tab">Review</a></li>
              </ul>
              <!-- Tab panes -->
              <div class="tab-content">
                <div role="tabpanel" class="tab-pane active fade in" id="tab1">
                  <%= render partial: 'xtable' %>
                </div><!-- tabpanel tab1 -->
                <div role="tabpanel" class="tab-pane fade in" id="tab2">
                  <%= render partial: 'endorsements' %>
                </div><!-- tabpanel tab2 -->
                <div role="tabpanel" class="tab-pane fade in" id="tab3">
                  <%= render partial: 'wizard' %>
                  <div class="progress progress-sm m-t-sm">
                    <div class="progress-bar progress-bar-primary" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
                  </div>
                  <%= form_tag fillForm_policy_path(@policy), id:'wizardForm', method: :put do %><!--<form id="wizardForm">-->
                    <div class="tab-content">
                      <div class="tab-pane fade" id="taba">
                        <!-- Form Name -->
                        <legend>CP0440</legend>

                        <div class="col-md-6">
                          <div class="row">
                            <!-- Policy Number -->
                            <div class="form-group col-md-12">
                              <label for="POLICYNUMBER">POLICY NUMBER</label>
                              <div class="input-group">
                                <span class="input-group-addon">PPK000</span>
                                <input type="text" class="form-control" name="POLICYNUMBER" id="POLICYNUMBER" placeholder="Policy Number" requiredd>
                              </div>
                            </div>
                            <!-- CP0440 Location -->
                            <div class="form-group col-md-12">
                              <label for="CP0440_LOCATION">LOCATION</label>
                              <select id="CP0440_LOCATION" name="CP0440_LOCATION" class="form-control">
                                <option value="1">LOCATION 1</option>
                                <option value="2">LOCATION 2</option>
                                <option value="3">LOCATION 3</option>
                                <option value="4">LOCATION 4</option>
                              </select>
                            </div>
                            <!-- Ded -->
                            <div class="form-group col-md-12">
                              <label for="CP0440_DEDUCTIBLE">DEDUCTIBLE</label>
                              <input id="CP0440_DEDUCTIBLE" name="CP0440_DEDUCTIBLE" placeholder="Deductible" class="form-control input-md">
                            </div>
                            <!-- Refigeration -->
                            <div class="form-group col-md-12">
                              <label for="CP0440_REFIGERATION">REFRIDGERATION</label>
                              <div class="checkbox">
                                <label for="CP0440_REFIGERATION-0">
                                  <input type="checkbox" name="CP0440_REFIGERATION" id="CP0440_REFIGERATION-0" value="Yes">
                                  AGREEMENT
                                </label>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="row">
                            <!-- Limit -->
                            <div class="form-group col-md-12">
                              <label for="CP0440_LIMIT">LIMIT</label>
                              <input id="CP0440_LIMIT" name="CP0440_LIMIT" placeholder="Limit" class="form-control input-md" requiredd>
                            </div>
                            <!-- CP0440 Building -->
                            <div class="form-group col-md-12">
                              <label for="CP0440_BUILDING">BUILDING</label>
                              <select id="CP0440_BUILDING" name="CP0440_BUILDING" class="form-control">
                                <option value="1">BUILDING 1</option>
                                <option value="2">BUILDING 2</option>
                                <option value="3">BUILDING 3</option>
                                <option value="4">BUILDING 4</option>
                              </select>
                            </div>
                            <!-- Description-->
                            <div class="form-group col-md-12">
                              <label for="CP0440_DESCRIPTION">DESCRIPTION</label>
                              <input id="CP0440_DESCRIPTION" name="CP0440_DESCRIPTION" placeholder="Description" class="form-control input-md">
                            </div>
                            <!-- Cause of Loss -->
                            <div class="form-group col-md-12">
                              <label for="CP0440_CAUSE_OF_LOSS">CAUSE OF LOSS</label>
                              <div class="checkbox">
                                <label for="BREAKDOWNCONTAMINATION">
                                  <input type="checkbox" name="BREAKDOWNCONTAMINATION" id="BREAKDOWNCONTAMINATION" value="Yes">
                                  BREAKDOWN/CONTAMINATION
                                </label>
                              </div>
                              <div class="checkbox">
                                <label for="POWEROUTAGE">
                                  <input type="checkbox" name="POWEROUTAGE" id="POWEROUTAGE" value="Yes">
                                  POWER OUTAGE
                                </label>
                              </div>
                              <div class="checkbox">
                                <label for="SELLINGPRICE">
                                  <input type="checkbox" name="SELLINGPRICE" id="SELLINGPRICE" value="Yes">
                                  SELLING PRICE
                                </label>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <%- if false %>
                      <div class="tab-pane fade" id="tabb">
                        <!-- Form Name -->
                        <legend>CP1440</legend>

                        <div class="col-md-6">
                          <div class="row">
                            <!-- Policy Number -->
                            <div class="form-group col-md-12">
                              <label for="POLICYNUMBER">POLICY NUMBER</label>
                              <div class="input-group">
                                <span class="input-group-addon">PPK000</span>
                                <input type="text" class="form-control" name="POLICYNUMBER" id="POLICYNUMBER" placeholder="Policy Number" requiredd>
                              </div>
                            </div>

                            <div class="form-group col-md-12">
                              <label for="CP1440_LOCATION">LOCATION</label>
                              <select id="CP1440_LOCATION" name="CP1440_LOCATION" class="form-control">
                                <option value="1">LOCATION 1</option>
                                <option value="2">LOCATION 2</option>
                                <option value="3">LOCATION 3</option>
                                <option value="4">LOCATION 4</option>
                              </select>
                            </div>

                            <div class="form-group col-md-12">
                              <label for="CP1440_COINS">COINS</label>
                              <input id="CP1440_COINS" name="CP1440_COINS" type="text" placeholder="COINSURANCE" class="form-control input-md" requiredd>
                            </div>

                            <div class="form-group col-md-12">
                              <label for="CP1440_ADDTL_PREMIUM">ADDTL PREMIUM</label>
                              <div class="input-group">
                                <input id="CP1440_ADDTL_PREMIUM" name="CP1440_ADDTL_PREMIUM" class="form-control" placeholder="PREMIUM" type="text">
                                <!--<div class="input-group-btn"> <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"> CLUSION <span class="caret"></span> </button> <ul id="dropdown" class="dropdown-menu pull-right"> <li><a href="#">EXCLUDED</a></li> <li><a href="#">INCLUDED</a></li> </ul> </div>-->
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="row">
                            <div class="form-group col-md-12">
                              <label for="CP1440_LIMIT">LIMIT</label>
                              <input id="CP1440_LIMIT" name="CP1440_LIMIT" placeholder="" class="form-control input-md" requiredd>
                            </div>

                            <div class="form-group col-md-12">
                              <label for="CP1440_BUILDING">BUILDING</label>
                              <select id="CP1440_BUILDING" name="CP1440_BUILDING" class="form-control">
                                <option value="1">BUILDING 1</option>
                                <option value="2">BUILDING 2</option>
                                <option value="3">BUILDING 3</option>
                                <option value="4">BUILDING 4</option>
                              </select>
                            </div>

                            <div class="form-group col-md-12">
                              <label for="CP1440_DESCRIPTION">DESCRIPTION</label>
                              <input id="CP1440_DESCRIPTION" name="CP1440_DESCRIPTION" type="text" placeholder="OF SIGN" class="form-control input-md">
                            </div>

                            <div class="form-group col-md-12">
                              <label for="CP1440_CONSTRUCTION">CONSTRUCTION</label>
                              <select id="CP1440_CONSTRUCTION" name="CP1440_CONSTRUCTION" class="form-control">
                                <option value="X">METAL</option>
                                <option value="X">OTHER</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <% end -%>

                      <div class="tab-pane fade" id="tabd">
                        <!-- Form Name -->
                        <legend>IL0415</legend>

                        <div class="col-md-6">
                          <div class="row">
                            <!-- Policy Number -->
                            <div class="form-group col-md-12">
                              <label for="POLICYNUMBER">POLICY NUMBER</label>
                              <div class="input-group">
                                <span class="input-group-addon">PPK000</span>
                                <input type="text" class="form-control" name="POLICYNUMBER" id="POLICYNUMBER" placeholder="Policy Number" requiredd>
                              </div>
                            </div>

                            <div class="form-group col-md-12">
                              <label for="IL0415_LOCATION">LOCATION</label>
                              <select id="IL0415_LOCATION" name="IL0415_LOCATION" class="form-control">
                                <option value="1">LOCATION 1</option>
                                <option value="2">LOCATION 2</option>
                                <option value="3">LOCATION 3</option>
                                <option value="4">LOCATION 4</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="row">
                            <div class="form-group col-md-12">
                              <label for="IL0415_BUILDING">BUILDING</label>
                              <select id="IL0415_BUILDING" name="IL0415_BUILDING" class="form-control">
                                <option value="1">BUILDING 1</option>
                                <option value="2">BUILDING 2</option>
                                <option value="3">BUILDING 3</option>
                                <option value="4">BUILDING 4</option>
                              </select>
                            </div>

                            <div class="form-group col-md-12">
                              <label for="IL0415_DESCRIPTION">DESCRIPTION</label>
                              <input id="IL0415_DESCRIPTION" name="IL0415_DESCRIPTION" type="text" placeholder="OF SIGN" class="form-control input-md">
                            </div>
                          </div>
                        </div>
                        <div class="col-md-12">
                          <div class="row">
                            <div class="form-group col-md-12">
                              <label for="IL0415_SYMBOL">SYMBOL</label>
                              <select id="IL0415_SYMBOL" name="IL0415_SYMBOL" class="form-control" multiple="multiple">
                                <option value="P-1">P-1</option>
                                <option value="P-2">P-2</option>
                                <option value="P-3">P-3</option>
                                <option value="P-4">P-4</option>
                                <option value="P-9">P-9</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="tab-pane fade" id="tabe">
                        <!-- Form Name -->
                        <legend>CG2011</legend>

                        <div class="col-md-6">
                          <div class="row">
                            <!-- Policy Number -->
                            <div class="form-group col-md-12">
                              <label for="POLICYNUMBER">POLICY NUMBER</label>
                              <div class="input-group">
                                <span class="input-group-addon">PPK000</span>
                                <input type="text" class="form-control" name="POLICYNUMBER" id="POLICYNUMBER" placeholder="Policy Number" requiredd>
                              </div>
                            </div>

                            <!--<div class="form-group col-md-12">
                              <label for="CG2011_LOCATION">LOCATION</label>
                              <select id="CG2011_LOCATION" name="CG2011_LOCATION" class="form-control">
                                <option value="1">LOCATION 1</option>
                                <option value="2">LOCATION 2</option>
                                <option value="3">LOCATION 3</option>
                                <option value="4">LOCATION 4</option>
                              </select>
                            </div>-->

                            <div class="form-group col-md-12">
                              <label for="CG2011_ADDTL_INSURED">ADDTL INSURED</label>
                              <input id="CG2011_ADDTL_INSURED" name="CG2011_ADDTL_INSURED" type="text" placeholder="COINSURANCE" class="form-control input-md" requiredd>
                            </div>

                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="row">
                            <div class="form-group col-md-12">
                              <label for="CG2011_PREMISES">PREMISES</label>
                              <input id="CG2011_PREMISES" name="CG2011_PREMISES" placeholder="" class="form-control input-md" requiredd>
                            </div>

                            <!--<div class="form-group col-md-12">
                              <label for="CG2011_BUILDING">BUILDING</label>
                              <select id="CG2011_BUILDING" name="CG2011_BUILDING" class="form-control">
                                <option value="1">BUILDING 1</option>
                                <option value="2">BUILDING 2</option>
                                <option value="3">BUILDING 3</option>
                                <option value="4">BUILDING 4</option>
                              </select>
                            </div>-->

                            <div class="form-group col-md-12">
                              <label for="CP1440_ADDTL_PREMIUM">ADDTL PREMIUM</label>
                              <div class="input-group">
                                <input id="CP1440_ADDTL_PREMIUM" name="CP1440_ADDTL_PREMIUM" class="form-control" placeholder="PREMIUM" type="text">
                              </div>
                              <!--<div class="input-group-btn"> <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"> CLUSION <span class="caret"></span> </button> <ul class="dropdown-menu pull-right"> <li><a href="#">INCLUDED</a></li> <li><a href="#">EXCLUDED</a></li> </ul> </div>-->
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="tab-pane fade" id="tabf">
                        <!-- Form Name -->
                        <legend>CG2018</legend>

                        <div class="col-md-12">
                          <div class="row">
                            <!-- Policy Number -->
                            <div class="form-group col-md-12">
                              <label for="POLICYNUMBER">POLICY NUMBER</label>
                              <div class="input-group">
                                <span class="input-group-addon">PPK000</span>
                                <input type="text" class="form-control" name="POLICYNUMBER" id="POLICYNUMBER" placeholder="Policy Number" requiredd>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="row">
                            <div class="form-group col-md-12">
                              <label for="CG2018_ADDTL_INSURED">ADDTL_INSURED</label>
                              <input id="CG2018_ADDTL_INSURED" name="CG2018_ADDTL_INSURED" type="text" placeholder="OF SIGN" class="form-control input-md">
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="row">
                            <div class="form-group col-md-12">
                              <label for="CG2018_PREMISES">PREMISES</label>
                              <input id="CG2018_PREMISES" name="CG2018_PREMISES" type="text" placeholder="OF SIGN" class="form-control input-md">
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="tab-pane fade" id="tabg">
                        <!-- Form Name -->
                        <legend>CG2026</legend>

                        <div class="col-md-6">
                          <div class="row">
                            <!-- Policy Number -->
                            <label for="POLICYNUMBER">POLICY NUMBER</label>
                            <div class="input-group">
                              <span class="input-group-addon">PPK000</span>
                              <input type="text" class="form-control" name="POLICYNUMBER" id="POLICYNUMBER" placeholder="Policy Number" requiredd>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group col-md-12">
                            <label for="CG2026_ADDTL_INSURED">ADDTL_INSURED</label>
                            <input id="CG2026_ADDTL_INSURED" name="CG2026_ADDTL_INSURED" type="text" placeholder="OF SIGN" class="form-control input-md">
                          </div>
                        </div>
                      </div>

                      <div class="tab-pane fade" id="tabh">
                        <!-- Form Name -->
                        <legend>CG2028</legend>


                        <div class="col-md-6">
                          <div class="row">
                            <!-- Policy Number -->
                            <label for="POLICYNUMBER">POLICY NUMBER</label>
                            <div class="input-group">
                              <span class="input-group-addon">PPK000</span>
                              <input type="text" class="form-control" name="POLICYNUMBER" id="POLICYNUMBER" placeholder="Policy Number" requiredd>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group col-md-12">
                            <label for="CG2028_ADDTL_INSURED">ADDTL_INSURED</label>
                            <input id="CG2028_ADDTL_INSURED" name="CG2028_ADDTL_INSURED" type="text" placeholder="OF SIGN" class="form-control input-md">
                          </div>
                        </div>
                      </div>

                      <div class="tab-pane fade" id="tabi">
                        <!-- Form Name -->
                        <legend>CG2144</legend>

                        <div class="col-md-12">
                          <div class="row">
                            <!-- Policy Number -->
                            <div class="form-group col-md-12">
                              <label for="POLICYNUMBER">POLICY NUMBER</label>
                              <div class="input-group">
                                <span class="input-group-addon">PPK000</span>
                                <input type="text" class="form-control" name="POLICYNUMBER" id="POLICYNUMBER" placeholder="Policy Number" requiredd>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="row">
                            <!--<div class="form-group col-md-12">
                              <label for="CG2144_LOCATION">LOCATION</label>
                              <select id="CG2144_LOCATION" name="CG2144_LOCATION" class="form-control">
                                <option value="1">LOCATION 1</option>
                                <option value="2">LOCATION 2</option>
                                <option value="3">LOCATION 3</option>
                                <option value="4">LOCATION 4</option>
                              </select>
                            </div>-->
                            <div class="form-group col-md-12">
                              <label for="CG2144_PROJECT">PROJECT</label>
                              <input id="CG2144_PROJECT" name="CG2144_PROJECT" type="text" placeholder="OF SIGN" class="form-control input-md">
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="row">
                            <!--<div class="form-group col-md-12">
                              <label for="CG2144_BUILDING">BUILDING</label>
                              <select id="CG2144_BUILDING" name="CG2144_BUILDING" class="form-control">
                                <option value="1">BUILDING 1</option>
                                <option value="2">BUILDING 2</option>
                                <option value="3">BUILDING 3</option>
                                <option value="4">BUILDING 4</option>
                              </select>
                            </div>-->
                            <div class="form-group col-md-12">
                              <label for="CG2144_PREMISES">PREMISES</label>
                              <input id="CG2144_PREMISES" name="CG2144_PREMISES" type="text" placeholder="OF SIGN" class="form-control input-md">
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="tab-pane active fade in" id="tabj">
                        <div class="text-center">
                          <%= submit_tag "Generate for Review", class:"btn btn-prime-gold" %>
                        </div>
                      </div>

                      <ul class="pager wizard">
                        <li class="previous"><a class="btn btn-default">Previous</a></li>
                        <li class="next"><a class="btn btn-default">Next</a></li>
                      </ul>
                    </div>
                  <% end -%><!--</form>-->
                  <%- if false %>
                  <div class="text-center">
                    <div class="review-button">
                      <%= link_to pdf_policy_path(@policy) do %>
                        <button class="btn btn-prime-blue">
                          Declaration Pages
                        </button>
                      <% end %>
                    </div>
                    <div class="review-button">
                      <%= link_to generate_policy_path(@policy), 'data-no-turbolink' => true  do %>
                        <button class="btn btn-prime-gold" style="width:134px;">
                          Generate
                        </button>
                      <% end %>
                    </div>
                    <div class="review-button">
                      <%= link_to fillForm_policy_path(@policy), 'data-no-turbolink' => true  do %>
                        <button id='fill' class="btn btn-prime-gold" style="width:134px;">
                          Generate
                        </button>
                      <% end %>
                    </div>
                  </div>
                  <% end -%>
                </div><!-- tabpanel tab3 -->
              </div>
            </div>
          </div><!-- Panel Body -->
        </div>
      </div>
    </div><!-- Row -->
  </div><!-- Main Wrapper -->

  <!-- Javascripts -->
  <%= content_for :js_includes do %>
    <%= javascript_include_tag 'moment/moment.js', 'data-turbolinks-track' => true %>
    <%= javascript_include_tag 'x-editable/bootstrap3-editable/js/bootstrap-editable.js', 'data-turbolinks-track' => true %>
    <%= javascript_include_tag 'x-editable/inputs-ext/typeaheadjs/lib/typeahead.js', 'data-turbolinks-track' => true %>
    <%= javascript_include_tag 'x-editable/inputs-ext/typeaheadjs/typeaheadjs.js', 'data-turbolinks-track' => true %>
    <%= javascript_include_tag 'x-editable/inputs-ext/address/address.js', 'data-turbolinks-track' => true %>
    <%= javascript_include_tag 'select2/js/select2.full.min.js', 'data-turbolinks-track' => true %>
    <%#= javascript_include_tag 'bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js', 'data-turbolinks-track' => true %>
    <%= javascript_include_tag 'pages/form-x-editable.js', 'data-turbolinks-track' => true %>
    <%= javascript_include_tag 'dropzone/dropzone.min.js', 'data-turbolinks-track' => true %>

    <%= javascript_include_tag 'twitter-bootstrap-wizard/jquery.bootstrap.wizard.min.js', 'data-turbolinks-track' => true %>
    <%= javascript_include_tag 'jquery-validation/jquery.validate.min.js', 'data-turbolinks-track' => true %>
    <%= javascript_include_tag 'pages/form-wizard.js', 'data-turbolinks-track' => true %>

    <script>
      $('button.btn').click(function(){
        $(this).toggleClass('active');
      });
    </script>
  <% end %>
